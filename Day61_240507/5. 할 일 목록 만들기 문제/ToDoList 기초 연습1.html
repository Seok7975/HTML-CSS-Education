<!-- 
    주어진 이미지를 참고하여 할 일 목록 리스트를 만들자.
    추가하기 버튼을 누르거나 엔터키를 치면 할 일 목록이 추가가 되고
    체크박스를 선택하면 글에 줄이 그어지게 하자.
    제거하기를 누르면 해당 목록을 삭제하자.
    입력이 안된상태에서 추가하기 버튼을 누르거나 엔터를 누르면
    "할 일을 입력해 주세요."라고 alert 창을 띄운다. 
-->

<!-- 1. 이벤트리스너로 버튼을 누르면 스케쥴을 인풋하고 리스트에 추가된다
2.  -->
<!DOCTYPE html>
<html>
    <head>
        <style>
            .completed 
            {
                text-decoration: line-through;
            }

            ul
            {
                list-style-type: none;
            }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const addButton = document.querySelector('button');
                const inputField = document.getElementById('schedule');
                const list = document.createElement('ul');
                document.body.appendChild(list);

                function addToDo()
                {
                    const value = inputField.value.trim();
                    if (!value)
                    {
                        alert("할 일을 입력해 주세요")
                        return;
                    }

                    const listItem = document.createElement('li'); //리스트 추가
                    const checkBox = document.createElement('input'); //체크박스 추가
                    checkBox.type = 'checkbox';
                    checkBox.addEventListener('change', () => {
                        if(checkBox.checked)
                        {
                            listItem.classList.add('completed');
                        }
                        else
                        {
                            listItem.classList.remove('completed');
                        }
                    });

                    const textNode = document.createTextNode(value);
                    const removeButton = document.createElement('button');
                    removeButton.textContent = '제거하기';
                    removeButton.addEventListener('click', () => {
                        list.removeChild(listItem);
                    });
                

                    listItem.appendChild(checkBox);
                    listItem.appendChild(textNode);
                    listItem.appendChild(removeButton);
                    list.appendChild(listItem);
                    inputField.value = ''; // 입력 필드를 초기화
                }

                addButton.addEventListener('click', addToDo);

                inputField.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter')
                    {
                        addToDo();
                    }
                });
            });
        </script>
    </head>
    <body>
        <h1>할 일 목록</h1>
        <input id="schedule"><button>추가하기</button></input>
        <p></p>
    </body>
</html>