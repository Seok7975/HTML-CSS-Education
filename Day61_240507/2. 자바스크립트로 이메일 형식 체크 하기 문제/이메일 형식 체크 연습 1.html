<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script>
        // DOM이 로드된 후에 실행될 함수
        document.addEventListener('DOMContentLoaded', () => {
            const input = document.querySelector('input');
            // 이벤트 리스너 등록
            input.addEventListener('keyup', listener);
        });

        // 이메일 유효성 검사 함수
        const isEmail = (value) => {
            return (value.indexOf('@') > 1)
                && (value.split('@')[1].indexOf('.') > 1);
        }

        // 이벤트 핸들러 함수
        const listener = (e) => {
            const p = document.querySelector('p');
            const value = e.currentTarget.value; // 'event' 대신 'e'를 사용

            if(isEmail(value)) {
                p.style.color = 'green';
                p.textContent = `이메일 형식입니다 : ${value}`;
            } else {
                p.style.color = 'red';
                p.textContent = `이메일 형식이 아닙니다 : ${value}`;
            }
        }
    </script>
</head>
<body>
    <input type="text">
    <p></p>
</body>
</html>
